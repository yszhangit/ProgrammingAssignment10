---
title: "Peer graded assignment regression models"
author: "yinshu zhang"
date: "October 24, 2018"
output:
  html_document:
    df_print: paged
  pdf_document: default
---

```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = TRUE)
opts_chunk$set(dev = 'pdf')
```

# Introduction
This study if conducted by Motor Trend magazine to explore the relationship between a set of variables and the fuel consumption. The focus of this paper is to address two questions.

> "Is an automatic or manual transmission better for MPG"

> "Quantify the MPG difference between automatic and manual transmissions"

# Data Exploration
```{r dataexp}
dim.mtcars <- dim(mtcars)
```
We will use "mtcars" data to draw conclusions, mtcars is a `r dim.mtcars[1]` by `r dim.mtcars[2]` data frame, with columns defined as:

column name | defination
-----------| -------------
mpg   | miles per gallon(US)
cyl   | number of cylinders
disp  | engine displacement(cu. in.)
hp    | Gross horsepower
drat  | Rear axle ratio
wt	  | Weight (1000 lbs)
qsec	| zero to 1/4 mile time in seconds
vs	  | Engine shape (0 = V-shaped, 1 = straight)
am	  | Transmission (0 = automatic, 1 = manual)
gear	| Number of forward gears
carb  | Number of carburetors

A quick look at each variables

```{r sumplot, echo=FALSE, fig.width=12, fig.height=8}
library(GGally)
library(ggplot2)
#ggpairs(mtcars)
```

# Relatinoship between MPG and AM
```{r correlation}
cor.am <- round(cor(mtcars$mpg, mtcars$am),4)
```
## ANOVA test
From summary figure, we can see the MPG and AM variables has `r cor.am` correlation value, it a indication MPG and AM has relationship, but not strong enough. Therefore, to answer first question, is automatic or manula transmission better or worse for MPG. We will use one-way analysis of variance.

the null hypothesis of ANOVA is designed as MPG is the same between auto and manual transmission cars. The practical expliation of Ho is 

1, those two samples, one with auto transmission, one with manual, are from either same population or populations with same mean.

2, or when two sample show difference, it is likely due to chance.

```{r anova}
anova1 <- aov(mpg ~ am, data = mtcars)
summary(anova1)
f_crit <- round(qf(.95, 2, 30),2)
```
F value of 16.86 is signifciently larger than the 95% significance level critical value `r f_crit`, the result shows strong evident rejecting null hyposis, in another word, auto or manual transmission cars like have different MPG.

# Regression
## seletion of dependent variables
## with dummy variable of AM

# Executive Summary
